import{d as w,h as I,a as q,u as A,b as D,r as t,s as N,j as e,U as M,X as O}from"./index-C3zIyFCL.js";import{S as B}from"./SEO-C47sX6GH.js";import{A as k}from"./alert-circle-DuboJTzE.js";import{C as R}from"./calendar-CBjrxVk-.js";import{S as T}from"./save-XXEwZWDl.js";/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z=w("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G=w("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]),Q=()=>{var p,f,j,v,y;const{id:n}=I(),{isAdmin:c}=q(),{language:E}=A(),m=D(),[_,C]=t.useState(null),[s,u]=t.useState({}),[S,J]=t.useState(!0),[x,g]=t.useState(!1),[h,b]=t.useState(""),a={ko:{title:"팀원 수정",name:"이름",role:"역할",bio:"소개",profileImage:"프로필 이미지",socialLinks:"소셜 링크",sortOrder:"정렬 순서",active:"활성",joinedDate:"입사일",save:"저장",cancel:"취소",saveError:"저장 중 오류가 발생했습니다.",loadError:"팀원 정보를 불러오는 중 오류가 발생했습니다.",unauthorized:"관리자 권한이 필요합니다.",github:"GitHub",twitter:"Twitter",linkedin:"LinkedIn",website:"웹사이트",nameKo:"한국어 이름",nameEn:"영어 이름",nameJa:"일본어 이름",roleKo:"한국어 역할",roleEn:"영어 역할",roleJa:"일본어 역할",bioKo:"한국어 소개",bioEn:"영어 소개",bioJa:"일본어 소개"},en:{title:"Edit Team Member",name:"Name",role:"Role",bio:"Bio",profileImage:"Profile Image",socialLinks:"Social Links",sortOrder:"Sort Order",active:"Active",joinedDate:"Joined Date",save:"Save",cancel:"Cancel",saveError:"Error saving changes.",loadError:"Error loading team member.",unauthorized:"Admin access required.",github:"GitHub",twitter:"Twitter",linkedin:"LinkedIn",website:"Website",nameKo:"Korean Name",nameEn:"English Name",nameJa:"Japanese Name",roleKo:"Korean Role",roleEn:"English Role",roleJa:"Japanese Role",bioKo:"Korean Bio",bioEn:"English Bio",bioJa:"Japanese Bio"},ja:{title:"チームメンバー編集",name:"名前",role:"役割",bio:"紹介",profileImage:"プロフィール画像",socialLinks:"ソーシャルリンク",sortOrder:"ソート順",active:"アクティブ",joinedDate:"入社日",save:"保存",cancel:"キャンセル",saveError:"保存中にエラーが発生しました。",loadError:"チームメンバーの読み込み中にエラーが発生しました。",unauthorized:"管理者権限が必要です。",github:"GitHub",twitter:"Twitter",linkedin:"LinkedIn",website:"ウェブサイト",nameKo:"韓国語名",nameEn:"英語名",nameJa:"日本語名",roleKo:"韓国語役割",roleEn:"英語役割",roleJa:"日本語役割",bioKo:"韓国語紹介",bioEn:"英語紹介",bioJa:"日本語紹介"}}[E];t.useEffect(()=>{if(!c){m("/team");return}n&&K()},[c,n]);const K=async()=>{try{const{data:r,error:o}=await N.from("team_members").select("*").eq("id",n).single();if(o)throw o;C(r),u(r)}catch(r){console.error("Error fetching team member:",r),b(a.loadError)}finally{J(!1)}},L=async r=>{r.preventDefault(),g(!0),b("");try{const{error:o}=await N.from("team_members").update(s).eq("id",n);if(o)throw o;m("/team")}catch(o){console.error("Error updating team member:",o),b(a.saveError)}finally{g(!1)}},l=(r,o)=>{u(d=>({...d,[r]:o}))},i=(r,o)=>{u(d=>({...d,social_links:{...d.social_links,[r]:o}}))};return S?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white"})}):c?_?e.jsxs(e.Fragment,{children:[e.jsx(B,{title:a.title+" | SayBerry Games"}),e.jsx("div",{className:"min-h-screen py-20 px-4",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsx("h1",{className:"text-4xl font-bold mb-8",children:a.title}),e.jsxs("form",{onSubmit:L,className:"space-y-8",children:[e.jsx("div",{className:"bg-gray-900 rounded-lg p-6",children:e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsx("div",{children:s.profile_image?e.jsx("img",{src:s.profile_image,alt:"Profile",className:"w-24 h-24 rounded-full object-cover"}):e.jsx("div",{className:"w-24 h-24 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-2xl font-bold",children:((p=s.name_ko)==null?void 0:p.charAt(0))||"A"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("label",{className:"block text-sm font-medium mb-2",children:[e.jsx(z,{className:"inline h-4 w-4 mr-2"}),a.profileImage]}),e.jsx("input",{type:"url",value:s.profile_image||"",onChange:r=>l("profile_image",r.target.value),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-md focus:border-blue-500 focus:outline-none",placeholder:"https://example.com/image.jpg"})]})]})}),e.jsxs("div",{className:"bg-gray-900 rounded-lg p-6",children:[e.jsx("h3",{className:"text-xl font-bold mb-4",children:a.name}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:a.nameKo}),e.jsx("input",{type:"text",value:s.name_ko||"",onChange:r=>l("name_ko",r.target.value),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-md focus:border-blue-500 focus:outline-none",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:a.nameEn}),e.jsx("input",{type:"text",value:s.name_en||"",onChange:r=>l("name_en",r.target.value),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-md focus:border-blue-500 focus:outline-none",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:a.nameJa}),e.jsx("input",{type:"text",value:s.name_ja||"",onChange:r=>l("name_ja",r.target.value),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-md focus:border-blue-500 focus:outline-none",required:!0})]})]})]}),e.jsxs("div",{className:"bg-gray-900 rounded-lg p-6",children:[e.jsx("h3",{className:"text-xl font-bold mb-4",children:a.role}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:a.roleKo}),e.jsx("input",{type:"text",value:s.role_ko||"",onChange:r=>l("role_ko",r.target.value),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-md focus:border-blue-500 focus:outline-none",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:a.roleEn}),e.jsx("input",{type:"text",value:s.role_en||"",onChange:r=>l("role_en",r.target.value),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-md focus:border-blue-500 focus:outline-none",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:a.roleJa}),e.jsx("input",{type:"text",value:s.role_ja||"",onChange:r=>l("role_ja",r.target.value),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-md focus:border-blue-500 focus:outline-none",required:!0})]})]})]}),e.jsxs("div",{className:"bg-gray-900 rounded-lg p-6",children:[e.jsx("h3",{className:"text-xl font-bold mb-4",children:a.bio}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:a.bioKo}),e.jsx("textarea",{value:s.bio_ko||"",onChange:r=>l("bio_ko",r.target.value),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-md focus:border-blue-500 focus:outline-none",rows:3})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:a.bioEn}),e.jsx("textarea",{value:s.bio_en||"",onChange:r=>l("bio_en",r.target.value),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-md focus:border-blue-500 focus:outline-none",rows:3})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:a.bioJa}),e.jsx("textarea",{value:s.bio_ja||"",onChange:r=>l("bio_ja",r.target.value),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-md focus:border-blue-500 focus:outline-none",rows:3})]})]})]}),e.jsxs("div",{className:"bg-gray-900 rounded-lg p-6",children:[e.jsxs("h3",{className:"text-xl font-bold mb-4",children:[e.jsx(G,{className:"inline h-5 w-5 mr-2"}),a.socialLinks]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:a.github}),e.jsx("input",{type:"url",value:((f=s.social_links)==null?void 0:f.github)||"",onChange:r=>i("github",r.target.value),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-md focus:border-blue-500 focus:outline-none",placeholder:"https://github.com/username"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:a.twitter}),e.jsx("input",{type:"url",value:((j=s.social_links)==null?void 0:j.twitter)||"",onChange:r=>i("twitter",r.target.value),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-md focus:border-blue-500 focus:outline-none",placeholder:"https://twitter.com/username"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:a.linkedin}),e.jsx("input",{type:"url",value:((v=s.social_links)==null?void 0:v.linkedin)||"",onChange:r=>i("linkedin",r.target.value),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-md focus:border-blue-500 focus:outline-none",placeholder:"https://linkedin.com/in/username"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:a.website}),e.jsx("input",{type:"url",value:((y=s.social_links)==null?void 0:y.website)||"",onChange:r=>i("website",r.target.value),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-md focus:border-blue-500 focus:outline-none",placeholder:"https://example.com"})]})]})]}),e.jsxs("div",{className:"bg-gray-900 rounded-lg p-6",children:[e.jsx("h3",{className:"text-xl font-bold mb-4",children:"설정"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:a.sortOrder}),e.jsx("input",{type:"number",value:s.sort_order||0,onChange:r=>l("sort_order",parseInt(r.target.value)),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-md focus:border-blue-500 focus:outline-none"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-2",children:[e.jsx(R,{className:"inline h-4 w-4 mr-2"}),a.joinedDate]}),e.jsx("input",{type:"date",value:s.joined_date||"",onChange:r=>l("joined_date",r.target.value),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-md focus:border-blue-500 focus:outline-none"})]}),e.jsx("div",{className:"flex items-center",children:e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:s.active!==void 0?s.active:!0,onChange:r=>l("active",r.target.checked),className:"w-4 h-4"}),e.jsx("span",{children:a.active})]})})]})]}),h&&e.jsxs("div",{className:"p-4 bg-red-900/20 border border-red-500 rounded-lg text-red-400 flex items-center gap-2",children:[e.jsx(k,{className:"h-5 w-5"}),h]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("button",{type:"submit",disabled:x,className:"flex items-center gap-2 px-6 py-3 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-700 rounded-md transition-colors",children:[e.jsx(T,{className:"h-5 w-5"}),x?"저장 중...":a.save]}),e.jsxs("button",{type:"button",onClick:()=>m("/team"),className:"flex items-center gap-2 px-6 py-3 bg-gray-700 hover:bg-gray-600 rounded-md transition-colors",children:[e.jsx(O,{className:"h-5 w-5"}),a.cancel]})]})]})]})})]}):e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(k,{className:"h-16 w-16 text-red-500 mx-auto mb-4"}),e.jsx("p",{className:"text-xl",children:a.loadError})]})}):e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(M,{className:"h-16 w-16 text-red-500 mx-auto mb-4"}),e.jsx("p",{className:"text-xl",children:a.unauthorized})]})})};export{Q as default};
