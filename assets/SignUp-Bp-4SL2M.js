import{u as U,b as k,r as a,j as e,M as x,L as h,f as p,U as E,s as A}from"./index-k6BvY9AH.js";import{S as b}from"./SEO-ByJCGqga.js";import{L as f}from"./lock-ByLVFLX4.js";import{A as C}from"./alert-circle-Bg_n-Do3.js";const q=()=>{const{language:n}=U();k();const[i,w]=a.useState(""),[o,y]=a.useState(""),[c,j]=a.useState(""),[d,N]=a.useState(""),[m,u]=a.useState(!1),[g,t]=a.useState(""),[v,S]=a.useState(!1),s={ko:{title:"회원가입",subtitle:"SayBerry Games에 오신 것을 환영합니다",email:"이메일",password:"비밀번호",confirmPassword:"비밀번호 확인",name:"이름",signUp:"가입하기",signing:"가입 중...",alreadyHaveAccount:"이미 계정이 있으신가요?",login:"로그인",passwordMismatch:"비밀번호가 일치하지 않습니다.",passwordTooShort:"비밀번호는 최소 6자 이상이어야 합니다.",signUpError:"회원가입 중 오류가 발생했습니다.",checkEmail:"이메일을 확인해주세요",emailPlaceholder:"you@example.com",passwordPlaceholder:"최소 6자 이상",namePlaceholder:"홍길동"},en:{title:"Sign Up",subtitle:"Welcome to SayBerry Games",email:"Email",password:"Password",confirmPassword:"Confirm Password",name:"Name",signUp:"Sign Up",signing:"Signing up...",alreadyHaveAccount:"Already have an account?",login:"Login",passwordMismatch:"Passwords do not match.",passwordTooShort:"Password must be at least 6 characters.",signUpError:"Error during sign up.",checkEmail:"Please check your email",emailPlaceholder:"you@example.com",passwordPlaceholder:"At least 6 characters",namePlaceholder:"John Doe"},ja:{title:"新規登録",subtitle:"SayBerry Gamesへようこそ",email:"メールアドレス",password:"パスワード",confirmPassword:"パスワード確認",name:"名前",signUp:"登録",signing:"登録中...",alreadyHaveAccount:"すでにアカウントをお持ちですか？",login:"ログイン",passwordMismatch:"パスワードが一致しません。",passwordTooShort:"パスワードは6文字以上である必要があります。",signUpError:"登録中にエラーが発生しました。",checkEmail:"メールをご確認ください",emailPlaceholder:"you@example.com",passwordPlaceholder:"6文字以上",namePlaceholder:"山田太郎"}}[n],P=async r=>{if(r.preventDefault(),t(""),o!==c){t(s.passwordMismatch);return}if(o.length<6){t(s.passwordTooShort);return}u(!0);try{const{error:l}=await A.auth.signUp({email:i,password:o,options:{data:{name:d,role:"user"},emailRedirectTo:`${window.location.origin}/login`}});if(l){console.error("Supabase signup error:",l),t(l.message||s.signUpError);return}S(!0)}catch(l){console.error("Signup error:",l),t(l.message||s.signUpError)}finally{u(!1)}};return v?e.jsxs(e.Fragment,{children:[e.jsx(b,{title:s.title+" | SayBerry Games"}),e.jsx("div",{className:"min-h-screen flex items-center justify-center px-4",children:e.jsxs("div",{className:"max-w-md w-full bg-gray-900 rounded-lg p-8 text-center",children:[e.jsx("div",{className:"mb-6",children:e.jsx("div",{className:"w-16 h-16 bg-green-500/20 rounded-full flex items-center justify-center mx-auto",children:e.jsx(x,{className:"h-8 w-8 text-green-500"})})}),e.jsx("h2",{className:"text-2xl font-bold text-green-500 mb-4",children:s.checkEmail}),e.jsx("p",{className:"text-gray-400 mb-6",children:n==="ko"?"가입을 완료하려면 이메일의 인증 링크를 클릭해주세요.":n==="ja"?"登録を完了するには、メール内の確認リンクをクリックしてください。":"Click the verification link in your email to complete registration."}),e.jsxs(h,{to:"/login",className:"text-blue-400 hover:text-blue-300",children:[s.login," →"]})]})})]}):e.jsxs(e.Fragment,{children:[e.jsx(b,{title:s.title+" | SayBerry Games"}),e.jsx("div",{className:"min-h-screen flex items-center justify-center px-4",children:e.jsxs("div",{className:"max-w-md w-full",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx(p,{className:"h-12 w-12 text-blue-500 mx-auto mb-4"}),e.jsx("h1",{className:"text-3xl font-bold",children:s.title}),e.jsx("p",{className:"text-gray-400 mt-2",children:s.subtitle})]}),e.jsxs("form",{onSubmit:P,className:"bg-gray-900 rounded-lg p-8 space-y-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-2",children:[e.jsx(E,{className:"inline h-4 w-4 mr-2"}),s.name]}),e.jsx("input",{type:"text",value:d,onChange:r=>N(r.target.value),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-md focus:border-blue-500 focus:outline-none",placeholder:s.namePlaceholder,required:!0})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-2",children:[e.jsx(x,{className:"inline h-4 w-4 mr-2"}),s.email]}),e.jsx("input",{type:"email",value:i,onChange:r=>w(r.target.value),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-md focus:border-blue-500 focus:outline-none",placeholder:s.emailPlaceholder,required:!0})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-2",children:[e.jsx(f,{className:"inline h-4 w-4 mr-2"}),s.password]}),e.jsx("input",{type:"password",value:o,onChange:r=>y(r.target.value),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-md focus:border-blue-500 focus:outline-none",placeholder:s.passwordPlaceholder,required:!0})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-2",children:[e.jsx(f,{className:"inline h-4 w-4 mr-2"}),s.confirmPassword]}),e.jsx("input",{type:"password",value:c,onChange:r=>j(r.target.value),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-md focus:border-blue-500 focus:outline-none",placeholder:s.passwordPlaceholder,required:!0})]}),g&&e.jsxs("div",{className:"p-3 bg-red-900/20 border border-red-500 rounded-md text-red-400 text-sm flex items-center gap-2",children:[e.jsx(C,{className:"h-4 w-4 flex-shrink-0"}),g]}),e.jsxs("button",{type:"submit",disabled:m,className:"w-full py-3 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-700 rounded-md font-medium transition-colors flex items-center justify-center gap-2",children:[e.jsx(p,{className:"h-5 w-5"}),m?s.signing:s.signUp]}),e.jsxs("div",{className:"text-center text-sm",children:[e.jsx("span",{className:"text-gray-400",children:s.alreadyHaveAccount})," ",e.jsx(h,{to:"/login",className:"text-blue-400 hover:text-blue-300",children:s.login})]})]})]})})]})};export{q as default};
