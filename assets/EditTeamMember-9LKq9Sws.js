import{d as _,h as S,a as C,u as I,b as J,r as o,s as p,j as e,U as K,X as A}from"./index-B4Zunz8B.js";import{S as q}from"./SEO-DYaj2aNK.js";import{A as h}from"./alert-circle-R9_VxyPv.js";import{S as D}from"./save-96eaMPOD.js";/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O=_("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),F=()=>{var g;const{id:n}=S(),{isAdmin:i}=C(),{language:f}=I(),c=J(),[j,v]=o.useState(null),[a,m]=o.useState({}),[y,N]=o.useState(!0),[u,x]=o.useState(!1),[b,d]=o.useState(""),s={ko:{title:"팀원 수정",name:"이름",role:"역할",description:"소개",profileImage:"프로필 이미지",sortOrder:"정렬 순서",active:"활성",save:"저장",cancel:"취소",saveError:"저장 중 오류가 발생했습니다.",loadError:"팀원 정보를 불러오는 중 오류가 발생했습니다.",unauthorized:"관리자 권한이 필요합니다.",roleKo:"한국어 역할",roleEn:"영어 역할",roleJa:"일본어 역할",descriptionKo:"한국어 소개",descriptionEn:"영어 소개",descriptionJa:"일본어 소개"},en:{title:"Edit Team Member",name:"Name",role:"Role",description:"Description",profileImage:"Profile Image",sortOrder:"Sort Order",active:"Active",save:"Save",cancel:"Cancel",saveError:"Error saving changes.",loadError:"Error loading team member.",unauthorized:"Admin access required.",roleKo:"Korean Role",roleEn:"English Role",roleJa:"Japanese Role",descriptionKo:"Korean Description",descriptionEn:"English Description",descriptionJa:"Japanese Description"},ja:{title:"チームメンバー編集",name:"名前",role:"役割",description:"紹介",profileImage:"プロフィール画像",sortOrder:"ソート順",active:"アクティブ",save:"保存",cancel:"キャンセル",saveError:"保存中にエラーが発生しました。",loadError:"チームメンバーの読み込み中にエラーが発生しました。",unauthorized:"管理者権限が必要です。",roleKo:"韓国語役割",roleEn:"英語役割",roleJa:"日本語役割",descriptionKo:"韓国語紹介",descriptionEn:"英語紹介",descriptionJa:"日本語紹介"}}[f];o.useEffect(()=>{if(!i){c("/team");return}n&&E()},[i,n]);const E=async()=>{try{const{data:r,error:l}=await p.from("team_members").select("*").eq("id",n).single();if(l)throw l;v(r),m(r)}catch(r){console.error("Error fetching team member:",r),d(s.loadError)}finally{N(!1)}},w=async r=>{r.preventDefault(),x(!0),d("");try{const{error:l}=await p.from("team_members").update(a).eq("id",n);if(l)throw l;c("/team")}catch(l){console.error("Error updating team member:",l),d(s.saveError)}finally{x(!1)}},t=(r,l)=>{m(k=>({...k,[r]:l}))};return y?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white"})}):i?j?e.jsxs(e.Fragment,{children:[e.jsx(q,{title:s.title+" | SayBerry Games"}),e.jsx("div",{className:"min-h-screen py-20 px-4",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsx("h1",{className:"text-4xl font-bold mb-8",children:s.title}),e.jsxs("form",{onSubmit:w,className:"space-y-8",children:[e.jsx("div",{className:"bg-gray-900 rounded-lg p-6",children:e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsx("div",{children:a.avatar_url?e.jsx("img",{src:a.avatar_url,alt:"Profile",className:"w-24 h-24 rounded-full object-cover"}):e.jsx("div",{className:"w-24 h-24 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-2xl font-bold",children:((g=a.name)==null?void 0:g.charAt(0))||"A"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("label",{className:"block text-sm font-medium mb-2",children:[e.jsx(O,{className:"inline h-4 w-4 mr-2"}),s.profileImage]}),e.jsx("input",{type:"url",value:a.avatar_url||"",onChange:r=>t("avatar_url",r.target.value),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-md focus:border-blue-500 focus:outline-none",placeholder:"https://example.com/image.jpg"})]})]})}),e.jsxs("div",{className:"bg-gray-900 rounded-lg p-6",children:[e.jsx("h3",{className:"text-xl font-bold mb-4",children:s.name}),e.jsx("div",{children:e.jsx("input",{type:"text",value:a.name||"",onChange:r=>t("name",r.target.value),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-md focus:border-blue-500 focus:outline-none",placeholder:"베리",required:!0})})]}),e.jsxs("div",{className:"bg-gray-900 rounded-lg p-6",children:[e.jsx("h3",{className:"text-xl font-bold mb-4",children:s.role}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:s.roleKo}),e.jsx("input",{type:"text",value:a.role_ko||"",onChange:r=>t("role_ko",r.target.value),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-md focus:border-blue-500 focus:outline-none",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:s.roleEn}),e.jsx("input",{type:"text",value:a.role_en||"",onChange:r=>t("role_en",r.target.value),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-md focus:border-blue-500 focus:outline-none",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:s.roleJa}),e.jsx("input",{type:"text",value:a.role_ja||"",onChange:r=>t("role_ja",r.target.value),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-md focus:border-blue-500 focus:outline-none",required:!0})]})]})]}),e.jsxs("div",{className:"bg-gray-900 rounded-lg p-6",children:[e.jsx("h3",{className:"text-xl font-bold mb-4",children:s.description}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:s.descriptionKo}),e.jsx("textarea",{value:a.description_ko||"",onChange:r=>t("description_ko",r.target.value),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-md focus:border-blue-500 focus:outline-none",rows:3})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:s.descriptionEn}),e.jsx("textarea",{value:a.description_en||"",onChange:r=>t("description_en",r.target.value),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-md focus:border-blue-500 focus:outline-none",rows:3})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:s.descriptionJa}),e.jsx("textarea",{value:a.description_ja||"",onChange:r=>t("description_ja",r.target.value),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-md focus:border-blue-500 focus:outline-none",rows:3})]})]})]}),e.jsxs("div",{className:"bg-gray-900 rounded-lg p-6",children:[e.jsx("h3",{className:"text-xl font-bold mb-4",children:"설정"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:s.sortOrder}),e.jsx("input",{type:"number",value:a.sort_order||0,onChange:r=>t("sort_order",parseInt(r.target.value)),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-md focus:border-blue-500 focus:outline-none"})]}),e.jsx("div",{className:"flex items-center",children:e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:a.active!==void 0?a.active:!0,onChange:r=>t("active",r.target.checked),className:"w-4 h-4"}),e.jsx("span",{children:s.active})]})})]})]}),b&&e.jsxs("div",{className:"p-4 bg-red-900/20 border border-red-500 rounded-lg text-red-400 flex items-center gap-2",children:[e.jsx(h,{className:"h-5 w-5"}),b]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("button",{type:"submit",disabled:u,className:"flex items-center gap-2 px-6 py-3 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-700 rounded-md transition-colors",children:[e.jsx(D,{className:"h-5 w-5"}),u?"저장 중...":s.save]}),e.jsxs("button",{type:"button",onClick:()=>c("/team"),className:"flex items-center gap-2 px-6 py-3 bg-gray-700 hover:bg-gray-600 rounded-md transition-colors",children:[e.jsx(A,{className:"h-5 w-5"}),s.cancel]})]})]})]})})]}):e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(h,{className:"h-16 w-16 text-red-500 mx-auto mb-4"}),e.jsx("p",{className:"text-xl",children:s.loadError})]})}):e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(K,{className:"h-16 w-16 text-red-500 mx-auto mb-4"}),e.jsx("p",{className:"text-xl",children:s.unauthorized})]})})};export{F as default};
